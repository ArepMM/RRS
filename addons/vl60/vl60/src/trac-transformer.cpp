#include    "trac-transformer.h"

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
TracTransformer::TracTransformer(QObject *parent) : Device(parent)
    , U1(0.0)
    , K_sn(62.7)
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
TracTransformer::~TracTransformer()
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
double TracTransformer::getU_sn() const
{
    return U1 / K_sn;
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void TracTransformer::setU1(double value)
{
    U1 = value;
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void TracTransformer::preStep(state_vector_t &Y, double t)
{
    Q_UNUSED(Y)
    Q_UNUSED(t)

    emit soundSetVolume("Trac_Transformer", static_cast<int>(100.0 * U1 / 25000.0));
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void TracTransformer::ode_system(const state_vector_t &Y,
                                 state_vector_t &dYdt,
                                 double t)
{
    Q_UNUSED(Y)
    Q_UNUSED(dYdt)
    Q_UNUSED(t)
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void TracTransformer::load_config(CfgReader &cfg)
{
    Q_UNUSED(cfg)
}

#include    "msut.h"

#include    "tep70-signals.h"

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
MSUT::MSUT(QObject *parent) : Device(parent)
{
    accel_calc = new DerivativeCalculator(0.1);
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
MSUT::~MSUT()
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void MSUT::step(double t, double dt)
{
    accel_calc->step(msut_input.velocity, t, dt);

    Device::step(t, dt);
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void MSUT::preStep(state_vector_t &Y, double t)
{


    msut_output.acceleration = accel_calc->getDerivative();
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void MSUT::ode_system(const state_vector_t &Y, state_vector_t &dYdt, double t)
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void MSUT::load_config(CfgReader &cfg)
{

}
